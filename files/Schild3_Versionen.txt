SchILD3
========
Version 3.0.32
--------------
-Es wurden diverse Fehlermeldungen, die bei BK-Datenbanken auftraten, behoben

-Das Layout wurde in bestimmten Bereichen an die Bildschirmauflösung angepasst. So wird z.B. der Bereich "Aktuelle Laubahndaten" bei einer Bildschirmauflösung > 1400 Pixeln breiter dargstellt.

-Es wurden weitere Gruppenprozesse im Bereich "Fächer" an die geänderte Datenbankstruktur angepasst.


Version 3.0.31
--------------
-Die Gruppenprozesse in den Bereichen "Allgemeines" und "Fächer" (bis einschl. "Kurse zuweisen (mehrere)") wurden überarbeitet und an die geänderte Datenbankstruktur angepasst.

Version 3.0.30
--------------
-Es wurden noch einige Fehler im Filter I behoben
Hinweis: Bei den "Checked Comobobox"-Komponenten (zur Mehrfachauswahl von Optionen) bewirkt das reine Anklicken eines Eintrages noch keine Auswahl desselben, dazu muss das Häkchen angeklickt werden. Ansonsten würde bei der Taststurbedienung das Häkchen automatsich aktiviert, wenn man mit den Pfeiltasten der Tastatur zwischen den Einträgen wechselt. Wenn bei Tastaturbedienung ein Eintrag aktiviert werden woll, muss die Eingabetaste gedrückt werden.

-Bei der Zuweisung eines Kennwortes zu einem Benutzer kam es zu einer Fehlermeldung, nun behoben

-Der Gruppenprozess "Individualdaten ändern" wurde an die neue Datenbankstruktur angepasst


Version 3.0.29
--------------
-Anpassung aller Optionen in Filter I an die neue Datenbankstruktur

Version 3.0.28
--------------
-Anpassung der Benutzerverwaltung an die neue Datenbankstruktur
Hinweis: In der Benutzerverwaltung stehen die Optionen zum Bearbeiten einzelner Benutzer (Anlegen, Bearbeiten, demnächst auch Löschen) über die rechte Maustaste zur Verfügung.
Beim Neuanlegen von Benutzern wird derzeit der Benutzername als Kennwort eingetragen. Das kann in Zukunft auch durch ein zufällig erzeugtes Initialkennwort ersetzt werden, dazu muss aber erst eine Datenquelle mit Benutzerdaten geschaffen werden, damit diese Informationen auch ausgegeben werden können.

-Filter I:
Einige Optionen (im wesentlichen solche, die sich auf Stammdaten und den aktuellen Abschnitt beziehen) wurden auf die neue Datenbankstruktur angepasst


Version 3.0.27
--------------
-Korrektur einiger in Jira genannten Reportprobleme

-Anpassung aller Lehrerdatenquellen an neue DB-Struktur

-Anpassung der Datenquelle SchuelerKAoADaten an neue DB-Struktur

-Korrektur einiger Fehler bei der Lehrerbearbeitung

-Umstellung der PLZ-Felder auf Ort_ID in folgenden Tabellen
Schueler
SchuelerErzAdr
K_Lehrer
K_AllgAdr

-Anpassung der Report-Datenquellen zu diesen Tabellen


Version 3.0.26
--------------
Weitere Anpassungen an neue DB-Struktur
-Daten der Lehrkräfte können bearbeitet werden

-Kurslisten können ausgegeben werden

-Angaben zu Klassenlehrer werde in Reports wieder ausgegeben



Version 3.0.23
--------------
-Die neue Struktur der Tabelle "SchuelerSprachenfolge" wurde an allen relevanten Stellen angepasst

-Es gibt nun auf dem Karteireiter "Laufbahninfo" auch einen Bereich für die Eingabe von Sprachprüfungen

Version 3.0.22
--------------
An folgenden Stellen wurde das Programm an die neue Struktur der Tabelle "SchuelerSprachenfolge" angepasst:
-Programmoberfläche
-Reportausgabe
-GeR-Berechnung
-Export in Schnittstellendatei
-Import aus Schnittstellendatei

An folgenden Punkten sind noch Anpassungen notwendig:
-LuPO-Export
-Übergabe an Abituralgorithmus

Version 3.0.21
--------------
-Die Verwendung des Feldes "SchulnrEigner" wurde komplett aus dem Programm entfernt.

-Alle Adressangaben wurden auf eine getrennte Speicherung von Straßenname und Hausnr. umgestellt.

Version 3.0.20
--------------
-Es gibt keine durch die Schule bearbeitbaren Kataloge für Staatsangehörigkeiten und Verkehrssprachen mehr. Es wird nun auf die entsprechenden "Statistik-Kataloge" zugegriffen.

-Die Eingabe der Schulleitung (bei den allgemeinen Angaben der Schule) wurde geändert. Es ist nun auch möglich, eine Historie zu verwalten.
Wichtig: Da hier auf neue Tabellen in der Datenbank zugegriffen wird, funktioniert das nur mit einer Datenbank, die mit einer aktuellen Version des SVWS-Servers migriert wurde.
 
-Es wurden weitere in Github gemeldete Fehler behoben.


Version 3.0.19
--------------
-In manchen Fällen wurden Schüler- oder Lehrerfotos nicht angezeigt, obwohl sie korrekt in der Datenbank gespeichert waren. Nun korrigiert.

-Das Programm greift nun bei den Adressen der Schüler und Erziehungsberechtigten auf eine NRW-Straßenliste zu. Bei der Auswahl erfolgt eine automatische Filterung auf den Ortsnamen, daher muss dieser auch bei Eingabe der Straße schon vorhanden sein. Der Katalog ist aber nur eine "Vorschlagsliste", d.h. es können auch weiterhin Einträge gemacht werden, die nicht im Katalog enthalten sind.
WICHTIG: Die Nutzung der Straßenliste setzt eine Trennung von Straße und Hausnr. voraus. Falls noch nicht geschehen, muss der Menüpunkt "Verwaltung>>Werkzeuge>>Straßen und Hausnr. bei Schülerdaten trennen" aufgerufen werden.
HINWEIS: Bei den Ertiehungsberechtigten gab es noch keine separaten Felder für Straßenname und Hausnr., diese werden von einem aktuellen Update des SVWS-Servers angelegt.

-Die Anordnung der Bemerkungsfelder auf dem Karteireiter "Akt. Halbjahr>>Bemerkungen" wurde überarbeitet

-Ein Fehler beim IServ-Export wurde korrigiert.

-Es wurden weitere in Github gemeldete Fehler behoben.


Version 3.0.18
--------------
-Der Bereich "Werkzeuge" wurde überarbeitet. Bei allen "Werkzeug-Einträgen" in der Menüliste, die über kein eigenes Fenster verfügen, wird nun (beim Aufruf) ein Informationstext im rechten Fensterteil angezeigt.
Beispiel "Fehlende Abschnittsdaten anlegen":
"Es wird geprüft, ob es für alle Schüler mit Status "Aktiv" einen Eintrag für den aktuellen Abschnitt (Halbjahr, Quartal, Semester) gibt. Falls ein solcher nicht existiert, wird er mit den aktuellen Angaben bei den Individualdaten (z.B. Jahrgang, Klasse) angelegt. Wenn schon ein Eintrag für den aktuellen Abschnitt existiert, so wird dieser nicht verändert."
Korrekturen und Verbesserungsvorschläge für die Formulierugen der Hinweise sind erwünscht.

-Es steht jetzt auch der IServ-Export zur Verfügung.

-Es wurden weitere Fenster, die bisher separat (als "schwebende" Fenster) erschienen, in die Programmoberfläche integriert.

-Es wurden einige in Github gemeldete Fehler behoben.

Version 3.0.17
--------------
-Die Verwaltung der Kataloge wude nochmals überarbeitet. Alle Kataloge (allgemeine und schulbezogen) sind nun über ein "Backstage-Menü" aufrufbar. Die Kataloge wurden auch von den "Ribbob-Bars" getrennt und haben nun einen eigenen Bereich mit (jeweils auf den betreffenden Katalog bezognenen) Bearbeitungskomponenten.

-Bei manchen Katalogen wurden "eingefrorene" Spalten definiert (z.B. Schulkatalog). Dies bedeutet, dass bestimmte Spalten am Anfang des Tabellengitters immer sichtbar sind, auch wenn man weiter nach rechts scrollt, weil der verfügbare Platt nicht ausreicht, um das Tabllngitter komplett darzustellen.

-Diverse Korrekturen und Designanpassungen an der Programoberfläche.

Version 3.0.16
--------------
-Es wurde eine Anzahl von Fenstern, die bisher separat (als "schwebende" Fenster) erschienen, in die Programmoberfläche integriert. Weitere werden noch folgen.

-Die Katalogverwaltung wurde komplett überarbeitet. Die Auswahl der Einzelkataloge (Staatsangehörigkeiten, Verkehrsprachen usw.) erfolgt jetzt über ein "Backstage-Menü" (ähnlich wie bei "Verwaltung") auf der linken Seite des Programmfensters. In den Ribbons erfolgt nur noch die Auswahl der "Katalog-Rubrik" (Allgemeine Kataloge, Schulbezogen Kataloge)

-Der Import/Exort wurde ebenfalls überarbeitet, es steht jetzt auch der Logineo-Export zur Verfügung

-Weitere Anpassung zur "Konsilidierung" der Programmoberfläche (z.B. bei den Daten der Schule) folgen in Kürze

-Es wurden einige in Github gemeldete Fehler behoben.

Version 3.0.15
--------------
-Der Test, ob eine Verbindung zum SVWS-Server hergstellt werden kann, wurde nochmal überarbeitet. Damit dieser ausgeführt werden kann, muss aber in der betreffenden sdbcfg-Datei (die die Datenbankparameter enthält) auch die URL des SVWS-Servers enthalten sein. Dazu entweder die Datei mit dem Programm "SchILD_DBConfig.exe" öffnen, bearbeiten und speichern oder über einen Editor in der Datei die Zeile
SVWSServerURL=localhost
ergänzen. Sofern der SVWS-Server nicht lokal läuft, muss statt "localhost" der Name des betreffenden Servers eingetragen werden.

-Bim Filtern auf die SuS eines Kurses wird nun die automatisch verwaltete Tabelle "Kurs_Schueler" zugegriffen. Bitte mal das Zeitverhalten prüfen.

-Im "Filter-Baum" wird jetzt für die Kursauswahl zusätzlich zur Kursbezeichnung auch der Jahrgang angezeigt.


Version 3.0.14
--------------
-Der Test, ob eine Verbindung zum SVWS-Server hergstellt werden kann, wird jetzt immer beim Start (bzw. nach Auswahl einer Datenbank) durchgeführt. Es wird jetzt ein Testbefehl verwendet, der keine root- bzw. sa-Berechtigung erfordert, es muss daher auch kein Kennwort mehr eingegeben werden. In der Titelzeile des Hauptfensters wird dann angezeigt, ob der Verbindungstest erfolgreich war.

-Im Reportexplorer wird ja die Breite der Spalten gespeichert. Es ist in manchen Fällen vorgekommen, dass für die Breite der Verzeichnisliste viel zu hohe Werte gespeichert wurden, was beim nächsten Aufruf dazu führte, dass die Reportliste nicht angezeigt werden konnte. Das ist nun unterbunden, wenn die Breiten beim Laden zu hoch sind (im Verhältnis zur Bildschirmbreite), werden sie passend reduziert.

-Es wurden noch diverse Änderungen/Korrekturen bei Gruppenprozessen gemacht.

-Es wurden diverse Tickets aus GitHub bearbeitet

-Es wurden diverse Schreibfehler korrigiert

Version 3.0.13
--------------
-Es wurden diverse Jira-Tickets bearbeitet

-Für die Testphase wurde der Zwang zur Verwendung eines regelkonformen Kennwortes ausgesetzt

-Das Programm startet nun auch mit einer MSSQl-Datenbank.
Wichtig: Bei MSSQL kommt es aufgrund der verwendeten Collation bei allen Abfragen auf die korrekte Groß/Kleinschreibung der Feldnamen an. Dies ist bei MariaDB nicht der Fall, hier müssen nur die Tabellennamen die korrekte Schreibweise haben, und das auch nur unter Linux). Ob alle Abfragen korekt funktionieren, wurde noch nicht bis ins Detail getestet, falls Fehlermeldungen der Art "Feld XY nicht gefunden" erscheinen, bitte entsprechendes Jira-Ticket eröffnen.

-Beim Programmstart kann nun auch optional geprüft werden, ob eine Verbindung zum SVWS-Server hergstellt werden kann. Dazu muss das Programm mit dem Parameter "-SVWSServerTest:" gestartet werden.
Beispiel:

SchILD30.exe -SVWSServerTest:

Es erscheint dann ein Dialogfenster, in dem das Kennwort für den Datenbankbenutzer "root" (bei MariaDB) oder "sa" (bei MSSQL) eingegeben werden kann. Als URL ist derzeit "https://localhost" fest vorgegeben. Es wird dann versucht, eine Verbindung zum SVWS-Server herzustellen und eine entsprechende Meldung ausgegeben. 
 

Version 3.0.12
--------------
-Alle "Ja/Nein"-Optionen bei Filter I und dem Gruppenprozess "Allgemeine Angaben ändern" wurden auf "Boolean-Selector" geändert

-Die Erweiterungen bei KAoA-Eingabe für BKs wurden umgesetzt, bitte prüfen, ob das Feld "BK_Anlagen" in der Tabelle "Schildintern_KAoA_Merkmal" enthalten ist.

-Die Speicherung der globalen Einstellungen erfolgt nun in der Tabelle SVWS_Client_Konfiguration_Global

-Die Speicherung der individuellen Einstellungen erfolgt nun in der Tabelle SVWS_Client_Konfiguration_Benutzer. Ausnahme sind "bildschirmabhängige" Einstellungen, diese werden weiterhin in der Registry gespeichert

-Die Benutzerverwaltung konnte nicht aufgerufen werden, nun korrigiert
Hinweis: Bei einer SQLite-Datenbank kommt es beim Aufruf von "Aktuelle Datenbanknutzer zeigen" zu einer Fehlermeldung. Die Ursache ist wohl, dass der Treiber den Befehl "Max(LoginTime)" nicht mit dem korrekten Datentyp zurückliefert. Da SQLite aber nur für Schulungszwecke benutzt werden soll, dürfte das unerheblich sein.

-Beim Gruppenprozess "Noten, Mahnungen, Fehlstunden eingeben" kam es zu einer Fehlermeldung, nun behoben.


Version 3.0.11
--------------
-Diverse Änderungen/Korrekturen aufgrund der Meldungen bei Github

Version 3.0.10
--------------
-Es gibt keine "Ribbongroups" mehr für den Aufruf der verschiedenen Berechnungsalgorithmen (Versetzung/Abschluss, FHR, BK-Abschluss, Abitur usw.). Es finden sich jetzt vielmehr oberhalb der entsprechenden Grids für die Fächer (z.B. Abiturfächer) Toolbars mit Schaltern für die jeweiligen Funktionen (ähnlich wie in SchILD2). Bitte mal prüfen, ob das den Arbeitsablauf besser unterstützt.

-Das Layout für der Karteireiter "Akt. Halbjahr>>Allgemeine Angaben" wurde überarbeitet. Für die unterschiedlichen Bemerkungsfelder (Zeugnsibemerkungen, Arbeits- und Sozialverhalten usw.) gibt es nun einen eigenen Karteireiter"Bemerkungen".

-Der Bereich "Zeugnis/Abschluss" ist jetzt auf dem Karteireiter "Akt. Halbjahr" immer sichtbar (wie in SchILD2), unabhängig davon, welcher "Unterreiter" (Allgemeine Angaben, Leistungsdate usw.) ausgewählt ist.

Version 3.0.9
-------------
-Alle Bezüge auf das Feld "Bildungsgang" in der Tabelle "SchuelerLernabschnitte" wurden entfernt

-Die Datenquellen "Bereich_I", "Bereich_II", "Bereich_III_1", Bereich_III_2" und "Bereich_III_3" wurden aus der Reportig entfernt.

-Bei SQLite-Datenbanken gab es eine Fehlermeldung, wenn z.B. durch eine Filterung eine leere Datenmenge geliefert wurde. Dies wir nun abgefangen.

-Das Layout des Karteireiters "BK-Abschluss" wurde überarbeitet

-Bei der Bearbeitung der Kataloge wurden umfangreiche Anpassungen gemacht. So sind gibt es jetzt "katalogspezifische" RibbonGroups ("Extra-Optionen"), über die bestimte Funktionen für den betreffenden Katalog aktiviert werden können (sofern für den betreffenden Katalog Extra-Optionen verfügbar sind)

-Alle Grid-Darstellungen für Kataloge verfügen nun über ein Eingabefeld "Suche..."

-Die Anzeige von Fotos im "schwebenden" Fenster funktioniert wieder

-Eine Markierung in der Schülerliste kann nun auch per Doppelklick aktviert werden

-Der "Schnellfilter SchILD2" wurde überarbeitet

-Die Basisroutinen für Gruppenfunktionen wurden überarbeitet



Version 3.0.8
-------------
-Bei allen Grafiken (Fotos, Schullogo) wird nun auf die Base64-Felder in der Datenbank zugegriffen (gilt auch für die Darstellung in Reports). Beim Speichern in der Datenbank werden die jpg/png-Dateien "on the fly" ins Base64-Format konvertiert, bei der Darstellung umgekehrt wieder von Base64 in das jeweilige Grafikformat.
Im Prinzip könnten damit die bisherigen Felder aus der Datenbank entfern werden.

-Es werden jetzt auch SQLite-Datenbanken unterstützt. Diese sollten aber später nur für Schulungszwecke (oder als Backup) verwendet werden, im Produktivbetrieb sollten SQLite-Datenbanken nicht verwendet werden!

-Die "Ribbongroups" für den Aufruf der verschiedenen Berechnungsalgorithmen (Versetzung/Abschluss, FHR, BK-Abschluss, Abitur) wurden vereinheitlicht

-Die Spaltenbreiten für Tabellendarstellungen werden nun benutzerbezogen in der Registry gespeichert.
Wichtig: Das Verfahren wurde gegenüber der Vorgängerversion geändert, d.h. die gewünschten Spaltenbreiten müssen nochmals (einmalig) angepasst werden.

-Bei der Auswahl von Lehrkräften (z.B. als Klassenlehrer, Fachlehrer, Abteilungsleiter) reagierte nicht auf Tastatureingaben, ist nun korrigiert.

-Die Sortierung der Notenliste für Teilleistungen wurde geändert, es erscheint jetzt zuerst die volle Note, dann die "Plus-" und ""Minus-Note" (also z.B. 2, 2+, 2-)

-Es wurden verschiedenen Änderungen gemacht, damit das Programm auch bei kleineren Bildschirmauflösungen benutzt werden kann. Absolutes Minimum sind aber 1024 x 768 Pixel.

-Beim Ausdruck von Reports, die auf die Datenquelle "KlassenLehrer" (die alle Lehrkräfte liefert, die in einer Klasse unterrichten) kam es zu einer Fehlermeldung. Ist nun korrigiert.

-Korrektur diverser Schreibfehler.

 
SchILD_DBConfig
===============

Version 2.0.5
-------------
-Es kann jetzt auch die URL des SVWS-Servers eingegeben werden, diese wird auch in die sdbcfg-Datei geschrieben. 

-Optional kann beim Verbindungstest auch der SVWS-Servr berücksichtigt werden.

MigrateDB
=========

Version 1.0.10
--------------
Wenn eine MDB manuell zur Migration ausgewählt wurde und der Dateipfad Leerzeichen enthielt, kam es zu einer Fehlermeldung. Nun behoben.

Version 1.0.8
-------------
In die erzeugten sdbcfg-Dateien wird jetzt auch die URL des SVWS-Servers geschrieben.

Version 1.0.7 
-------------
-Es kann jetzt auch in eine MSSQL-Datenbank migriert werden.
Wichtig: Dies funktioniert nur, wenn der SVWS-Server in der aktuellen Entwicklungsversion läuft.

Version 1.0.6 
-------------
-Es gibt im Startfenster nun einen Schalter "Migration ist schon erfolgt, nur Datenbank-Konfigurationsdatei für SchILD3 anlegen". Damit kann für ein Datenbankschema, in das bereits bei der Installation des svws-Servers migriert wurde, eine sdbcfg-Konfigurationsdatei angelegt werden, damit ein Zugriff über SchILD3 möglich ist. Als Dateiname wird der Name des Schemas verwendet.

Version 1.0.8
-------------
Es wird jetzt auch die URL zum SVWSServer in der .sdbcfg-Datei gespeichert.
